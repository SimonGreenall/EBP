define(function(i,t,s){function e(i,t,s,h,d){this.opt=$.extend({},d),this.id=i,this.content=t,this.width=s,this.height=h,this.template=this.opt.useVui?o.Vui:o.defaultUi,this.cover=$('<div class="vct-cover"></div>').css({height:$(document).height()+"px"}),this.closers=[],e.fn.items.push(this)}var h=t,o={defaultUi:'<div class="panel" {{id}} {{style}}><div class="background"></div><div class="content">{{content}}</div><a href="javascript:;" role="button" class="close">x</a></div>',Vui:'<div class="ui-dialog ui-dialog-large" {{id}} {{style}}>                                <div class="ui-dialog-inner">                                    <a href="javascript:;" role="button" class="ui-dialog-close vipFont close">î˜‰</a>                                    <div class="ui-dialog-content">{{content}}</div>                                </div>                            </div>'};e.fn=e.prototype={constructor:e,display:!1,initPanel:function(){var i,t,s=this;return i=this.opt.useVui?"":'style="width:'+(this.width?this.width+"px":"auto")+";height:"+(this.height?this.height+"px":"auto")+'"',this.template=this.template.replace("{{id}}",'id="'+(this.id||"")+'"').replace("{{content}}",this.content||"").replace("{{style}}",i),this.self=$(this.template),$(document.body).append(this.self),this.self.find(".close").on("click",function(){s.hide()}),t=this.self.find(".content"),this.width||this.height?(this.self.css({left:($(document).width()-this.width)/2,top:"50%"}),t.css({width:this.width-30+"px",height:this.height-30+"px"})):this.self.css({width:t.width()+30+"px",height:t.height()+30+"px",left:($(document.body).width()-(t.width()+30))/2+"px",top:"50%"}),this},show:function(){var i,t=this;return t.self||t.initPanel(),t.display?(t.cover.css("min-height",$(document.body).height()),t):(i=$(document).scrollTop()+(window.screen.height-t.self.height())/2-50,t.self.css({display:"block","z-index":2*h.config.zindex+1e3,top:100>i?100:i+"px",visibility:"visible"}).removeClass("z-ui-dialog-out").addClass("z-ui-dialog-in"),t.cover.css({"min-height":$(document.body).height(),"z-index":2*h.config.zindex+999}).show().appendTo($("body")),h.config.zindex++,h.config.modal.hide(),t.display=!0,t)},hide:function(i){if(!this.display)return this;for(var t=0;t<this.closers.length;t++)if(this.closers[t]()===!1)return;return this.cover.hide().remove(),i?$(this.id?"#"+this.id:".panel").remove():($(this.id?"#"+this.id:".panel").css({display:"none",visibility:"hidden"}).removeClass("z-ui-dialog-in").addClass("z-ui-dialog-out"),this.display=!1,h.display(),h.config.zindex--,this)},onClose:function(i){this.closers.push(i)},clean:function(){return this.display?(this.self.remove(),this.cover.remove(),this.display=!1,h.display(),h.config.zindex--,this):this},items:[],zindex:0},window.Panel=e,t.config={count:0,zindex:0,modal:$("#walletCode , #walletCode2").parent()},t.display=function(){h.config.modal.show()},t.Panel=e});